import{bk as de,g as H,h as z,m as D,q as W,o as r,a as _,n as C,A as c,D as V,f as b,t as S,aJ as $,e as O,B as pe,P as fe,S as ae,c as E,bg as ge,r as y,w as be,Q as M,ax as P,b as h,bl as T,bm as ve,k as q,bn as ie,bo as Se,az as U,j as we,U as J,aV as Y,C as X,I as Z,aQ as $e,at as ee,aH as Ce,y as F,K as ke,z as g,d,aK as x,E as A,G as Ee,L as Ie,aw as Te,bp as re,R as Ve,_ as L,T as K,H as te,F as B,O as Pe,bq as Ne,aN as Ae,aO as xe}from"./index-D1UifVoD.js";import{a as Q,E as ze}from"./el-button-Cij0dMj6.js";import{e as Oe}from"./echarts-BwIKWejU.js";import{a as Be,c as De,b as Le,u as Me}from"./use-form-item-NT027ZTN.js";const Fe=t=>["",...de].includes(t),Ke=H({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:z([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Re=D({name:"ElCard"}),Ge=D({...Re,props:Ke,setup(t){const a=W("card");return(s,e)=>(r(),_("div",{class:C([c(a).b(),c(a).is(`${s.shadow}-shadow`)])},[s.$slots.header||s.header?(r(),_("div",{key:0,class:C(c(a).e("header"))},[V(s.$slots,"header",{},()=>[b(S(s.header),1)])],2)):$("v-if",!0),O("div",{class:C([c(a).e("body"),s.bodyClass]),style:pe(s.bodyStyle)},[V(s.$slots,"default")],6),s.$slots.footer||s.footer?(r(),_("div",{key:1,class:C(c(a).e("footer"))},[V(s.$slots,"footer",{},()=>[b(S(s.footer),1)])],2)):$("v-if",!0)],2))}});var je=fe(Ge,[["__file","card.vue"]]);const Ue=ae(je),qe=H({prefixCls:{type:String}}),ce=D({name:"ElSpaceItem",props:qe,setup(t,{slots:a}){const s=W("space"),e=E(()=>`${t.prefixCls||s.b()}__item`);return()=>ge("div",{class:e.value},V(a,"default"))}}),ue={small:8,default:12,large:16};function Ye(t){const a=W("space"),s=E(()=>[a.b(),a.m(t.direction),t.class]),e=y(0),p=y(0),u=E(()=>{const l=t.wrap||t.fill?{flexWrap:"wrap"}:{},i={alignItems:t.alignment},f={rowGap:`${p.value}px`,columnGap:`${e.value}px`};return[l,i,f,t.style]}),o=E(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return be(()=>{const{size:l="small",wrap:i,direction:f,fill:v}=t;if(M(l)){const[m=0,I=0]=l;e.value=m,p.value=I}else{let m;P(l)?m=l:m=ue[l||"small"]||ue.small,(i||v)&&f==="horizontal"?e.value=p.value=m:f==="horizontal"?(e.value=m,p.value=0):(p.value=m,e.value=0)}}),{classes:s,containerStyle:u,itemStyle:o}}const He=H({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:z([String,Object,Array]),default:""},style:{type:z([String,Array,Object]),default:""},alignment:{type:z(String),default:"center"},prefixCls:{type:String},spacer:{type:z([Object,String,Number,Array]),default:null,validator:t=>ve(t)||P(t)||q(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:de,validator:t=>P(t)||M(t)&&t.length===2&&t.every(P)}}),We=D({name:"ElSpace",props:He,setup(t,{slots:a}){const{classes:s,containerStyle:e,itemStyle:p}=Ye(t);function u(o,l="",i=[]){const{prefixCls:f}=t;return o.forEach((v,m)=>{ie(v)?M(v.children)&&v.children.forEach((I,N)=>{ie(I)&&M(I.children)?u(I.children,`${l+N}-`,i):i.push(h(ce,{style:p.value,prefixCls:f,key:`nested-${l+N}`},{default:()=>[I]},T.PROPS|T.STYLE,["style","prefixCls"]))}):Se(v)&&i.push(h(ce,{style:p.value,prefixCls:f,key:`LoopKey${l+m}`},{default:()=>[v]},T.PROPS|T.STYLE,["style","prefixCls"]))}),i}return()=>{var o;const{spacer:l,direction:i}=t,f=V(a,"default",{key:0},()=>[]);if(((o=f.children)!=null?o:[]).length===0)return null;if(M(f.children)){let v=u(f.children);if(l){const m=v.length-1;v=v.reduce((I,N,R)=>{const G=[...I,N];return R!==m&&G.push(h("span",{style:[p.value,i==="vertical"?"width: 100%":null],key:R},[ve(l)?l:b(l,T.TEXT)],T.STYLE)),G},[])}return h("div",{class:s.value,style:e.value},v,T.STYLE|T.CLASS)}return f.children}}}),ne=ae(We),Qe=H({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Fe},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:U},activeActionIcon:{type:U},activeIcon:{type:U},inactiveIcon:{type:U},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:z(Function)},id:String,tabindex:{type:[String,Number]},...we(["ariaLabel"])}),Je={[J]:t=>Y(t)||q(t)||P(t),[X]:t=>Y(t)||q(t)||P(t),[Z]:t=>Y(t)||q(t)||P(t)},me="ElSwitch",Xe=D({name:me}),Ze=D({...Xe,props:Qe,emits:Je,setup(t,{expose:a,emit:s}){const e=t,{formItem:p}=Be(),u=De(),o=W("switch"),{inputId:l}=Le(e,{formItemContext:p}),i=Me(E(()=>e.loading)),f=y(e.modelValue!==!1),v=y(),m=y(),I=E(()=>[o.b(),o.m(u.value),o.is("disabled",i.value),o.is("checked",w.value)]),N=E(()=>[o.e("label"),o.em("label","left"),o.is("active",!w.value)]),R=E(()=>[o.e("label"),o.em("label","right"),o.is("active",w.value)]),G=E(()=>({width:$e(e.width)}));ee(()=>e.modelValue,()=>{f.value=!0});const se=E(()=>f.value?e.modelValue:!1),w=E(()=>se.value===e.activeValue);[e.activeValue,e.inactiveValue].includes(se.value)||(s(J,e.inactiveValue),s(X,e.inactiveValue),s(Z,e.inactiveValue)),ee(w,n=>{var k;v.value.checked=n,e.validateEvent&&((k=p==null?void 0:p.validate)==null||k.call(p,"change").catch(_e=>Ce()))});const j=()=>{const n=w.value?e.inactiveValue:e.activeValue;s(J,n),s(X,n),s(Z,n),Te(()=>{v.value.checked=w.value})},le=()=>{if(i.value)return;const{beforeChange:n}=e;if(!n){j();return}const k=n();[re(k),Y(k)].includes(!0)||Ve(me,"beforeChange must return type `Promise<boolean>` or `boolean`"),re(k)?k.then(oe=>{oe&&j()}).catch(oe=>{}):k&&j()},he=()=>{var n,k;(k=(n=v.value)==null?void 0:n.focus)==null||k.call(n)};return F(()=>{v.value.checked=w.value}),a({focus:he,checked:w}),(n,k)=>(r(),_("div",{class:C(c(I)),onClick:Ie(le,["prevent"])},[O("input",{id:c(l),ref_key:"input",ref:v,class:C(c(o).e("input")),type:"checkbox",role:"switch","aria-checked":c(w),"aria-disabled":c(i),"aria-label":n.ariaLabel,name:n.name,"true-value":n.activeValue,"false-value":n.inactiveValue,disabled:c(i),tabindex:n.tabindex,onChange:j,onKeydown:ke(le,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!n.inlinePrompt&&(n.inactiveIcon||n.inactiveText)?(r(),_("span",{key:0,class:C(c(N))},[n.inactiveIcon?(r(),g(c(A),{key:0},{default:d(()=>[(r(),g(x(n.inactiveIcon)))]),_:1})):$("v-if",!0),!n.inactiveIcon&&n.inactiveText?(r(),_("span",{key:1,"aria-hidden":c(w)},S(n.inactiveText),9,["aria-hidden"])):$("v-if",!0)],2)):$("v-if",!0),O("span",{ref_key:"core",ref:m,class:C(c(o).e("core")),style:pe(c(G))},[n.inlinePrompt?(r(),_("div",{key:0,class:C(c(o).e("inner"))},[n.activeIcon||n.inactiveIcon?(r(),g(c(A),{key:0,class:C(c(o).is("icon"))},{default:d(()=>[(r(),g(x(c(w)?n.activeIcon:n.inactiveIcon)))]),_:1},8,["class"])):n.activeText||n.inactiveText?(r(),_("span",{key:1,class:C(c(o).is("text")),"aria-hidden":!c(w)},S(c(w)?n.activeText:n.inactiveText),11,["aria-hidden"])):$("v-if",!0)],2)):$("v-if",!0),O("div",{class:C(c(o).e("action"))},[n.loading?(r(),g(c(A),{key:0,class:C(c(o).is("loading"))},{default:d(()=>[h(c(Ee))]),_:1},8,["class"])):c(w)?V(n.$slots,"active-action",{key:1},()=>[n.activeActionIcon?(r(),g(c(A),{key:0},{default:d(()=>[(r(),g(x(n.activeActionIcon)))]),_:1})):$("v-if",!0)]):c(w)?$("v-if",!0):V(n.$slots,"inactive-action",{key:2},()=>[n.inactiveActionIcon?(r(),g(c(A),{key:0},{default:d(()=>[(r(),g(x(n.inactiveActionIcon)))]),_:1})):$("v-if",!0)])],2)],6),!n.inlinePrompt&&(n.activeIcon||n.activeText)?(r(),_("span",{key:1,class:C(c(R))},[n.activeIcon?(r(),g(c(A),{key:0},{default:d(()=>[(r(),g(x(n.activeIcon)))]),_:1})):$("v-if",!0),!n.activeIcon&&n.activeText?(r(),_("span",{key:1,"aria-hidden":!c(w)},S(n.activeText),9,["aria-hidden"])):$("v-if",!0)],2)):$("v-if",!0)],10,["onClick"]))}});var et=fe(Ze,[["__file","switch.vue"]]);const tt=ae(et),at={props:{title:{type:String,required:!0}}},nt={class:"card-header"};function st(t,a,s,e,p,u){const o=Q,l=Ue;return r(),g(l,{style:{"min-width":"340px","min-height":"130px"},shadow:"always"},{header:d(()=>[O("div",nt,[h(o,{class:"mx-1",size:"large"},{default:d(()=>[b(S(s.title),1)]),_:1})])]),default:d(()=>[V(t.$slots,"default")]),_:3})}const ye=L(at,[["render",st]]),lt={__name:"OpRouter",setup(t){const a=y(0),s=y("success"),e=y(0),p=y(""),u=l=>{const i=Math.floor(l/86400),f=Math.floor(l%(24*3600)/3600);return`${i}天${f}小时`};return F(async()=>{try{const l=await K.get("/oprouter");a.value=l.r_wendu,e.value=u(l.r_time)}catch(l){p.value=l}}),ee(a,l=>{l>75?s.value="danger":s.value="success"}),(l,i)=>{const f=Q,v=ne;return r(),g(v,{wrap:""},{default:d(()=>[h(f,{class:"mx-1",type:"info"},{default:d(()=>[i[0]||(i[0]=b("设备温度：")),h(f,{class:"mx-1",type:s.value},{default:d(()=>[b(S(a.value),1)]),_:1},8,["type"])]),_:1}),h(f,{class:"mx-1",type:"info"},{default:d(()=>[i[1]||(i[1]=b(" 运行时间：")),h(f,{class:"mx-1",type:"success"},{default:d(()=>[b(S(e.value),1)]),_:1})]),_:1})]),_:1})}}},ot={key:0,class:"error-msg"},it={__name:"OnlineDev",setup(t){const a=y(""),s=y(""),e=y("");return F(async()=>{try{const u=await K.get("/onlinedev");s.value=u.w2g,a.value=u.w5g}catch(u){e.value=u}}),(u,o)=>{const l=ze,i=Pe,f=Ne,v=ne;return r(),g(v,{wrap:"",style:{"padding-right":"19px"}},{default:d(()=>[e.value?(r(),_("div",ot,S(e.value),1)):$("",!0),(r(!0),_(B,null,te(a.value,m=>(r(),g(f,{key:m.ip,value:"5G",class:"item",color:"#67C23A"},{default:d(()=>[h(i,{class:"box-item",effect:"light",content:m.ip,placement:"top-start"},{default:d(()=>[h(l,null,{default:d(()=>[b(S(m.dname),1)]),_:2},1024)]),_:2},1032,["content"])]),_:2},1024))),128)),(r(!0),_(B,null,te(s.value,m=>(r(),g(f,{key:m.ip,value:"2G",class:"item",color:"rgb(148.6, 212.3, 117.1)"},{default:d(()=>[h(i,{class:"box-item",effect:"light",content:m.ip,placement:"top-start"},{default:d(()=>[h(l,null,{default:d(()=>[b(S(m.dname),1)]),_:2},1024)]),_:2},1032,["content"])]),_:2},1024))),128))]),_:1})}}},rt={name:"ChartTv",setup(){const t=y(null),a=async()=>(await K.get("/logtv")).data,s=e=>{const p=Oe.init(t.value),u=e.map(i=>i.time),o=e.map(i=>i.stat),l={title:{text:"电视开机时长统计"},tooltip:{},grid:{left:"10%",right:"10%"},xAxis:{type:"category",data:u},yAxis:{type:"value",interval:1,min:0,axisLabel:{formatter:function(i){return i===1?"开机":i===0?"关机":i}}},series:[{name:"开机状态",type:"line",data:o,step:"end",itemStyle:{color:"red"},areaStyle:{color:"green",opacity:.2},lineStyle:{width:1,color:"green"}}]};p.setOption(l)};return F(async()=>{const e=await a();s(e)}),{chartDom:t}}},ct={ref:"chartDom",style:{width:"auto",height:"200px"}};function ut(t,a,s,e,p,u){return r(),_("div",ct,null,512)}const dt=L(rt,[["render",ut]]),pt={setup(){const t=y(!1),a=y(0),s=y(0),e=E(()=>a.value-s.value);return(async()=>{try{const u=await K.get("/print");t.value=u.stat,a.value=u.p_all,s.value=u.p_color}catch(u){console.error("获取打印机数据失败:",u)}})(),{stats:t,printCount:a,blackCount:e,colorCount:s}}};function ft(t,a,s,e,p,u){const o=Q;return r(),_(B,null,[a[1]||(a[1]=b(" 累计打印：")),h(o,{class:"mx-1",type:"success"},{default:d(()=>[b(S(e.printCount),1)]),_:1}),a[2]||(a[2]=b(" 黑白：")),h(o,{class:"mx-1",type:"success"},{default:d(()=>[b(S(e.blackCount),1)]),_:1}),a[3]||(a[3]=b(" 彩色：")),h(o,{class:"mx-1",type:"success"},{default:d(()=>[b(S(e.colorCount),1)]),_:1}),a[4]||(a[4]=O("br",null,null,-1)),Ae(h(o,{class:"mx-1",type:"warning"},{default:d(()=>a[0]||(a[0]=[b("当前打印机未连接,以上为历史信息")])),_:1},512),[[xe,!e.stats]])],64)}const vt=L(pt,[["render",ft]]),mt={setup(){const t=y(0),a=y(0);return{temp:t,hum:a}}};function yt(t,a,s,e,p,u){return" 房间温度："+S(e.temp)+"­°C 湿度:"+S(e.hum)+"% "}const ht=L(mt,[["render",yt]]),_t={setup(){return{sw01State:y(!1)}}};function gt(t,a,s,e,p,u){const o=Q,l=tt;return r(),_(B,null,[h(o,null,{default:d(()=>a[1]||(a[1]=[b("台灯： ")])),_:1}),h(l,{modelValue:e.sw01State,"onUpdate:modelValue":a[0]||(a[0]=i=>e.sw01State=i),size:"large",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])],64)}const bt=L(_t,[["render",gt]]),St={components:{Card:ye,oprouter:lt,onlinedev:it,charttv:dt,myprint:vt,mysensor:ht,myswitch:bt},setup(){const t=y([]),a=y("");return F(async()=>{try{const e=await K.get("/cards");t.value=e.data}catch(e){a.value=e}}),{cards:t,Msg:a}}},wt={key:0};function $t(t,a,s,e,p,u){const o=ye,l=ne;return r(),_(B,null,[h(l,{size:"large",wrap:"",style:{"align-items":"start"}},{default:d(()=>[(r(!0),_(B,null,te(e.cards,i=>(r(),g(o,{key:i.id,title:i.title},{default:d(()=>[(r(),g(x(i.name)))]),_:2},1032,["title"]))),128))]),_:1}),e.Msg?(r(),_("div",wt,S(e.Msg),1)):$("",!0)],64)}const Tt=L(St,[["render",$t]]);export{Tt as default};
