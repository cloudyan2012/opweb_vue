import{bk as y,m as w,v as o,p as d,w as a,aa as r,$ as p,s as C,a8 as h,I as g,l as k,ay as b,o as E}from"./index-D6suoTpB.js";import{E as z,z as N,A as V}from"./el-table-column-DQSGPlXy.js";import{E as D}from"./el-text-idv46lhT.js";import{E as I}from"./el-button-C-G0gSQ4.js";import"./index-CHR4d5yT.js";const L={setup(){const i=g(""),t=g(JSON.parse(localStorage.getItem("todoList"))||[]),u=e=>window.confirm("确定执行删除操作吗？"),l=()=>{const e=i.value.trim();if(!e)return alert("内容不能为空");t.value.unshift({content:e,done:!1}),i.value=""},c=e=>{e>=0&&e<t.value.length&&(t.value[e].done=!t.value[e].done)},_=e=>{u()&&e>=0&&e<t.value.length&&t.value.splice(e,1)},s=()=>{u()&&(t.value=t.value.filter(e=>!e.done))},f=k(()=>t.value.reduce((e,m)=>e+(m.done?1:0),0));return b(()=>{try{localStorage.setItem("todoList",JSON.stringify(t.value))}catch(e){console.error("保存数据出错:",e),alert("保存数据失败，请检查浏览器的存储设置。")}}),{todo:i,todoList:t,totalDone:f,handleAdd:l,handleChange:c,handleDelete:_,handleClear:s}}},S={style:{"white-space":"nowrap"}},T={style:{"margin-top":"10px","max-width":"1000px",display:"flex"}};function A(i,t,u,l,c,_){const s=I,f=z,e=D,m=N,x=V;return E(),w(h,null,[o(f,{modelValue:l.todo,"onUpdate:modelValue":t[0]||(t[0]=n=>l.todo=n),modelModifiers:{lazy:!0},style:{"min-width":"300px","max-width":"1000px"},placeholder:"输入待办事项"},{append:a(()=>[o(s,{onClick:l.handleAdd},{default:a(()=>t[1]||(t[1]=[r("添加")])),_:1},8,["onClick"])]),_:1},8,["modelValue"]),t[7]||(t[7]=d("br",null,null,-1)),o(e,{class:"mx-1",type:"warning"},{default:a(()=>t[2]||(t[2]=[r("*注意：数据存储在您本地设备，清理系统时可能丢失.请勿记录重要信息。")])),_:1}),o(x,{data:l.todoList,style:{"max-width":"1000px"},"table-layout":"auto"},{default:a(()=>[o(m,{label:"内 容"},{default:a(n=>[d("span",{style:{"margin-left":"10px"},class:C(["blodtext",{strikethrough:n.row.done}])},p(n.row.content),3)]),_:1}),o(m,{label:"操 作"},{default:a(n=>[d("span",S,[o(s,{size:"small",style:{"margin-left":"0px"},onClick:v=>l.handleChange(n.$index)},{default:a(()=>t[3]||(t[3]=[r("标记")])),_:2},1032,["onClick"]),o(s,{size:"small",type:"danger",onClick:v=>l.handleDelete(n.$index)},{default:a(()=>t[4]||(t[4]=[r("删除")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"]),d("div",T,[o(e,{class:"mx-1",size:"default"},{default:a(()=>[r("已完成："+p(l.totalDone)+" / 总数："+p(l.todoList.length),1)]),_:1}),t[6]||(t[6]=d("div",{style:{"flex-grow":"calc(0.54)"}},null,-1)),o(s,{size:"small",onClick:l.handleClear,type:"danger",style:{"margin-left":"10px"}},{default:a(()=>t[5]||(t[5]=[r("清除已完成")])),_:1},8,["onClick"])])],64)}const U=y(L,[["render",A],["__scopeId","data-v-448e7345"]]);export{U as default};
