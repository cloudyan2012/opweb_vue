import{x as pe,v as Y,y as Z,D as K,u as ee,J as o,K as m,M as S,O as r,L as x,a4 as u,a5 as g,a6 as w,a7 as N,a3 as te,_ as ae,a9 as se,ad as M,ay as fe,ai as U,B as z,A as L,ax as F,az as R,aA as q,j as I,C as _,g as ve,m as G,E as me,o as A,aD as ye,a1 as h,a0 as i,a2 as T,ag as V,U as c,aQ as _e,aI as he,W as ge,bH as X,t as be,aJ as D,aK as B,aR as j,V as E,aS as we,bI as Se,aq as ke,au as $e}from"./index-BSRaVxNu.js";import{E as H,e as Ce}from"./echarts-Bn8Z3cee.js";import{E as P}from"./el-text-O-jaOzYz.js";import{E as Ie}from"./el-button-BuhMImVI.js";import{b as Ee,u as Ve,d as Te,c as xe}from"./use-form-item-s1nRn993.js";const Ne=l=>["",...pe].includes(l),De=Y({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Z([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Pe=K({name:"ElCard"}),Ae=K({...Pe,props:De,setup(l){const e=ee("card");return(n,t)=>(o(),m("div",{class:S([r(e).b(),r(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(o(),m("div",{key:0,class:S(r(e).e("header"))},[x(n.$slots,"header",{},()=>[u(g(n.header),1)])],2)):w("v-if",!0),N("div",{class:S([r(e).e("body"),n.bodyClass]),style:te(n.bodyStyle)},[x(n.$slots,"default")],6),n.$slots.footer||n.footer?(o(),m("div",{key:1,class:S(r(e).e("footer"))},[x(n.$slots,"footer",{},()=>[u(g(n.footer),1)])],2)):w("v-if",!0)],2))}});var Be=ae(Ae,[["__file","card.vue"]]);const Oe=se(Be),Me=Y({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Ne},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:M},activeActionIcon:{type:M},activeIcon:{type:M},inactiveIcon:{type:M},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Z(Function)},id:String,tabindex:{type:[String,Number]},...fe(["ariaLabel"])}),ze={[U]:l=>z(l)||L(l)||F(l),[R]:l=>z(l)||L(l)||F(l),[q]:l=>z(l)||L(l)||F(l)},ne="ElSwitch",Ke=K({name:ne}),Le=K({...Ke,props:Me,emits:ze,setup(l,{expose:e,emit:n}){const t=l,{formItem:v}=Ee(),d=Ve(),s=ee("switch"),{inputId:p}=Te(t,{formItemContext:v}),f=xe(I(()=>t.loading)),y=_(t.modelValue!==!1),$=_(),C=_(),le=I(()=>[s.b(),s.m(d.value),s.is("disabled",f.value),s.is("checked",b.value)]),ie=I(()=>[s.e("label"),s.em("label","left"),s.is("active",!b.value)]),re=I(()=>[s.e("label"),s.em("label","right"),s.is("active",b.value)]),ce=I(()=>({width:ve(t.width)}));G(()=>t.modelValue,()=>{y.value=!0});const J=I(()=>y.value?t.modelValue:!1),b=I(()=>J.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(J.value)||(n(U,t.inactiveValue),n(R,t.inactiveValue),n(q,t.inactiveValue)),G(b,a=>{var k;$.value.checked=a,t.validateEvent&&((k=v==null?void 0:v.validate)==null||k.call(v,"change").catch(de=>me()))});const O=()=>{const a=b.value?t.inactiveValue:t.activeValue;n(U,a),n(R,a),n(q,a),ge(()=>{$.value.checked=b.value})},W=()=>{if(f.value)return;const{beforeChange:a}=t;if(!a){O();return}const k=a();[X(k),z(k)].includes(!0)||be(ne,"beforeChange must return type `Promise<boolean>` or `boolean`"),X(k)?k.then(Q=>{Q&&O()}).catch(Q=>{}):k&&O()},ue=()=>{var a,k;(k=(a=$.value)==null?void 0:a.focus)==null||k.call(a)};return A(()=>{$.value.checked=b.value}),e({focus:ue,checked:b}),(a,k)=>(o(),m("div",{class:S(r(le)),onClick:he(W,["prevent"])},[N("input",{id:r(p),ref_key:"input",ref:$,class:S(r(s).e("input")),type:"checkbox",role:"switch","aria-checked":r(b),"aria-disabled":r(f),"aria-label":a.ariaLabel,name:a.name,"true-value":a.activeValue,"false-value":a.inactiveValue,disabled:r(f),tabindex:a.tabindex,onChange:O,onKeydown:ye(W,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!a.inlinePrompt&&(a.inactiveIcon||a.inactiveText)?(o(),m("span",{key:0,class:S(r(ie))},[a.inactiveIcon?(o(),h(r(V),{key:0},{default:i(()=>[(o(),h(T(a.inactiveIcon)))]),_:1})):w("v-if",!0),!a.inactiveIcon&&a.inactiveText?(o(),m("span",{key:1,"aria-hidden":r(b)},g(a.inactiveText),9,["aria-hidden"])):w("v-if",!0)],2)):w("v-if",!0),N("span",{ref_key:"core",ref:C,class:S(r(s).e("core")),style:te(r(ce))},[a.inlinePrompt?(o(),m("div",{key:0,class:S(r(s).e("inner"))},[a.activeIcon||a.inactiveIcon?(o(),h(r(V),{key:0,class:S(r(s).is("icon"))},{default:i(()=>[(o(),h(T(r(b)?a.activeIcon:a.inactiveIcon)))]),_:1},8,["class"])):a.activeText||a.inactiveText?(o(),m("span",{key:1,class:S(r(s).is("text")),"aria-hidden":!r(b)},g(r(b)?a.activeText:a.inactiveText),11,["aria-hidden"])):w("v-if",!0)],2)):w("v-if",!0),N("div",{class:S(r(s).e("action"))},[a.loading?(o(),h(r(V),{key:0,class:S(r(s).is("loading"))},{default:i(()=>[c(r(_e))]),_:1},8,["class"])):r(b)?x(a.$slots,"active-action",{key:1},()=>[a.activeActionIcon?(o(),h(r(V),{key:0},{default:i(()=>[(o(),h(T(a.activeActionIcon)))]),_:1})):w("v-if",!0)]):r(b)?w("v-if",!0):x(a.$slots,"inactive-action",{key:2},()=>[a.inactiveActionIcon?(o(),h(r(V),{key:0},{default:i(()=>[(o(),h(T(a.inactiveActionIcon)))]),_:1})):w("v-if",!0)])],2)],6),!a.inlinePrompt&&(a.activeIcon||a.activeText)?(o(),m("span",{key:1,class:S(r(re))},[a.activeIcon?(o(),h(r(V),{key:0},{default:i(()=>[(o(),h(T(a.activeIcon)))]),_:1})):w("v-if",!0),!a.activeIcon&&a.activeText?(o(),m("span",{key:1,"aria-hidden":!r(b)},g(a.activeText),9,["aria-hidden"])):w("v-if",!0)],2)):w("v-if",!0)],10,["onClick"]))}});var Fe=ae(Le,[["__file","switch.vue"]]);const Ue=se(Fe),Re={props:{title:{type:String,required:!0}}},qe={class:"card-header"};function Ge(l,e,n,t,v,d){const s=P,p=Oe;return o(),h(p,{style:{"min-width":"340px","min-height":"130px"},shadow:"always"},{header:i(()=>[N("div",qe,[c(s,{class:"mx-1",size:"large"},{default:i(()=>[u(g(n.title),1)]),_:1})])]),default:i(()=>[x(l.$slots,"default")]),_:3})}const oe=D(Re,[["render",Ge]]),je={__name:"OpRouter",setup(l){const e=_(0),n=_("success"),t=_(0),v=_(""),d=p=>{const f=Math.floor(p/86400),y=Math.floor(p%(24*3600)/3600);return`${f}天${y}小时`};return A(async()=>{try{const p=await B.get("/oprouter");e.value=p.r_wendu,t.value=d(p.r_time)}catch(p){v.value=p}}),G(e,p=>{p>75?n.value="danger":n.value="success"}),(p,f)=>{const y=P,$=H;return o(),h($,{wrap:""},{default:i(()=>[c(y,{class:"mx-1",type:"info"},{default:i(()=>[f[0]||(f[0]=u("设备温度：")),c(y,{class:"mx-1",type:n.value},{default:i(()=>[u(g(e.value),1)]),_:1},8,["type"])]),_:1}),c(y,{class:"mx-1",type:"info"},{default:i(()=>[f[1]||(f[1]=u(" 运行时间：")),c(y,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.value),1)]),_:1})]),_:1})]),_:1})}}},He={key:0,class:"error-msg"},Je={__name:"OnlineDev",setup(l){const e=_(""),n=_(""),t=_("");return A(async()=>{try{const d=await B.get("/onlinedev");n.value=d.w2g,e.value=d.w5g}catch(d){t.value=d}}),(d,s)=>{const p=Ie,f=we,y=Se,$=H;return o(),h($,{wrap:"",style:{"padding-right":"19px"}},{default:i(()=>[t.value?(o(),m("div",He,g(t.value),1)):w("",!0),(o(!0),m(E,null,j(e.value,C=>(o(),h(y,{key:C.ip,value:"5G",class:"item",color:"#67C23A"},{default:i(()=>[c(f,{class:"box-item",effect:"light",content:C.ip,placement:"top-start"},{default:i(()=>[c(p,null,{default:i(()=>[u(g(C.dname),1)]),_:2},1024)]),_:2},1032,["content"])]),_:2},1024))),128)),(o(!0),m(E,null,j(n.value,C=>(o(),h(y,{key:C.ip,value:"2G",class:"item",color:"rgb(148.6, 212.3, 117.1)"},{default:i(()=>[c(f,{class:"box-item",effect:"light",content:C.ip,placement:"top-start"},{default:i(()=>[c(p,null,{default:i(()=>[u(g(C.dname),1)]),_:2},1024)]),_:2},1032,["content"])]),_:2},1024))),128))]),_:1})}}},We={name:"ChartTv",setup(){const l=_(null),e=_(!0),n=async()=>(await B.get("/logtv")).data,t=v=>{const d=Ce.init(l.value),s=v.map(y=>y.time),p=v.map(y=>y.stat),f={tooltip:{},grid:{left:"12%",right:"1%"},xAxis:{type:"category",data:s},yAxis:{type:"value",interval:1,max:1,min:0,axisLabel:{formatter:function(y){return y===1?"开机":y===0?"关机":y}}},series:[{name:"开机状态",type:"line",data:p,step:"end",itemStyle:{color:"red"},areaStyle:{color:"green",opacity:.2},lineStyle:{width:1,color:"green"}}]};d.setOption(f)};return A(async()=>{const v=await n();v?t(v):e.value=!1}),{chartDom:l,tvData:e}}},Qe={key:0,ref:"chartDom",style:{width:"auto",height:"80px"}},Xe={key:1};function Ye(l,e,n,t,v,d){const s=P;return t.tvData?(o(),m("div",Qe,null,512)):(o(),m("div",Xe,[c(s,{class:"mx-1",type:"danger"},{default:i(()=>e[0]||(e[0]=[u("暂无数据")])),_:1})]))}const Ze=D(We,[["render",Ye]]),et={setup(){const l=_(!1),e=_(0),n=_(0),t=I(()=>e.value-n.value);return(async()=>{try{const d=await B.get("/print");l.value=d.stat,e.value=d.p_all,n.value=d.p_color}catch(d){console.error("获取打印机数据失败:",d)}})(),{stats:l,printCount:e,blackCount:t,colorCount:n}}};function tt(l,e,n,t,v,d){const s=P;return o(),m(E,null,[c(s,{class:"mx-1",type:"info"},{default:i(()=>e[0]||(e[0]=[u("累计打印：")])),_:1}),c(s,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.printCount),1)]),_:1}),c(s,{class:"mx-1",type:"info"},{default:i(()=>e[1]||(e[1]=[u("黑白：")])),_:1}),c(s,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.blackCount),1)]),_:1}),c(s,{class:"mx-1",type:"info"},{default:i(()=>e[2]||(e[2]=[u("彩色：")])),_:1}),c(s,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.colorCount),1)]),_:1}),e[4]||(e[4]=N("br",null,null,-1)),ke(c(s,{class:"mx-1",type:"warning"},{default:i(()=>e[3]||(e[3]=[u("当前打印机未连接,以上为历史信息")])),_:1},512),[[$e,!t.stats]])],64)}const at=D(et,[["render",tt]]),st={setup(){const l=_(NaN),e=_(NaN);return{temp:l,hum:e}}};function nt(l,e,n,t,v,d){const s=P;return o(),m(E,null,[c(s,{class:"mx-1",type:"info"},{default:i(()=>[e[0]||(e[0]=u("房间温度：")),c(s,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.temp),1)]),_:1}),e[1]||(e[1]=u("­°C "))]),_:1}),c(s,{class:"mx-1",type:"info"},{default:i(()=>[e[2]||(e[2]=u("湿度: ")),c(s,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.hum),1)]),_:1}),e[3]||(e[3]=u("%"))]),_:1})],64)}const ot=D(st,[["render",nt]]),lt={setup(){return{sw01State:_(!1)}}};function it(l,e,n,t,v,d){const s=P,p=Ue;return o(),m(E,null,[c(s,null,{default:i(()=>e[1]||(e[1]=[u("台灯： ")])),_:1}),c(p,{modelValue:t.sw01State,"onUpdate:modelValue":e[0]||(e[0]=f=>t.sw01State=f),size:"large",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])],64)}const rt=D(lt,[["render",it]]),ct={components:{Card:oe,oprouter:je,onlinedev:Je,charttv:Ze,myprint:at,mysensor:ot,myswitch:rt},setup(){const l=_([]),e=_("");return A(async()=>{try{const t=await B.get("/cards");l.value=t.data}catch(t){e.value=t}}),{cards:l,Msg:e}}},ut={key:0};function dt(l,e,n,t,v,d){const s=oe,p=H;return o(),m(E,null,[c(p,{size:"large",wrap:"",style:{"align-items":"start"}},{default:i(()=>[(o(!0),m(E,null,j(t.cards,f=>(o(),h(s,{key:f.id,title:f.title},{default:i(()=>[(o(),h(T(f.name)))]),_:2},1032,["title"]))),128))]),_:1}),t.Msg?(o(),m("div",ut,g(t.Msg),1)):w("",!0)],64)}const _t=D(ct,[["render",dt]]);export{_t as default};
