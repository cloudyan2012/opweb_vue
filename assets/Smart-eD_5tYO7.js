import{bk as pe,g as Y,h as Z,m as x,q as ee,o,a as p,n as w,A as l,D as T,f as m,t as _,aL as b,e as P,B as te,P as ae,S as ne,aB as M,j as fe,U,aX as z,k as F,az as K,C as G,I as R,c as I,r as f,aS as ve,V as q,aJ as me,y as D,K as ye,z as v,d as c,aM as V,E,b as y,G as _e,L as he,ay as ge,bl as W,R as be,_ as B,X as A,H as j,F as N,O as we,bm as Se,aP as $e,aQ as ke}from"./index-CTzAda25.js";import{E as H,e as Ce}from"./echarts-sA0HdcNu.js";import{a as Ie,c as Ee,b as Ve,u as Te,E as L}from"./el-text-DCZTi4PS.js";import{E as Pe}from"./el-button-xknT4i8e.js";const Ne=s=>["",...pe].includes(s),Be=Y({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Z([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),De=x({name:"ElCard"}),Ae=x({...De,props:Be,setup(s){const a=ee("card");return(n,e)=>(o(),p("div",{class:w([l(a).b(),l(a).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(o(),p("div",{key:0,class:w(l(a).e("header"))},[T(n.$slots,"header",{},()=>[m(_(n.header),1)])],2)):b("v-if",!0),P("div",{class:w([l(a).e("body"),n.bodyClass]),style:te(n.bodyStyle)},[T(n.$slots,"default")],6),n.$slots.footer||n.footer?(o(),p("div",{key:1,class:w(l(a).e("footer"))},[T(n.$slots,"footer",{},()=>[m(_(n.footer),1)])],2)):b("v-if",!0)],2))}});var Oe=ae(Ae,[["__file","card.vue"]]);const Me=ne(Oe),ze=Y({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Ne},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:M},activeActionIcon:{type:M},activeIcon:{type:M},inactiveIcon:{type:M},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Z(Function)},id:String,tabindex:{type:[String,Number]},...fe(["ariaLabel"])}),xe={[U]:s=>z(s)||F(s)||K(s),[G]:s=>z(s)||F(s)||K(s),[R]:s=>z(s)||F(s)||K(s)},se="ElSwitch",Le=x({name:se}),Fe=x({...Le,props:ze,emits:xe,setup(s,{expose:a,emit:n}){const e=s,{formItem:h}=Ie(),u=Ee(),i=ee("switch"),{inputId:d}=Ve(e,{formItemContext:h}),r=Te(I(()=>e.loading)),S=f(e.modelValue!==!1),k=f(),C=f(),le=I(()=>[i.b(),i.m(u.value),i.is("disabled",r.value),i.is("checked",g.value)]),ie=I(()=>[i.e("label"),i.em("label","left"),i.is("active",!g.value)]),re=I(()=>[i.e("label"),i.em("label","right"),i.is("active",g.value)]),ce=I(()=>({width:ve(e.width)}));q(()=>e.modelValue,()=>{S.value=!0});const X=I(()=>S.value?e.modelValue:!1),g=I(()=>X.value===e.activeValue);[e.activeValue,e.inactiveValue].includes(X.value)||(n(U,e.inactiveValue),n(G,e.inactiveValue),n(R,e.inactiveValue)),q(g,t=>{var $;k.value.checked=t,e.validateEvent&&(($=h==null?void 0:h.validate)==null||$.call(h,"change").catch(de=>me()))});const O=()=>{const t=g.value?e.inactiveValue:e.activeValue;n(U,t),n(G,t),n(R,t),ge(()=>{k.value.checked=g.value})},J=()=>{if(r.value)return;const{beforeChange:t}=e;if(!t){O();return}const $=t();[W($),z($)].includes(!0)||be(se,"beforeChange must return type `Promise<boolean>` or `boolean`"),W($)?$.then(Q=>{Q&&O()}).catch(Q=>{}):$&&O()},ue=()=>{var t,$;($=(t=k.value)==null?void 0:t.focus)==null||$.call(t)};return D(()=>{k.value.checked=g.value}),a({focus:ue,checked:g}),(t,$)=>(o(),p("div",{class:w(l(le)),onClick:he(J,["prevent"])},[P("input",{id:l(d),ref_key:"input",ref:k,class:w(l(i).e("input")),type:"checkbox",role:"switch","aria-checked":l(g),"aria-disabled":l(r),"aria-label":t.ariaLabel,name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:l(r),tabindex:t.tabindex,onChange:O,onKeydown:ye(J,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!t.inlinePrompt&&(t.inactiveIcon||t.inactiveText)?(o(),p("span",{key:0,class:w(l(ie))},[t.inactiveIcon?(o(),v(l(E),{key:0},{default:c(()=>[(o(),v(V(t.inactiveIcon)))]),_:1})):b("v-if",!0),!t.inactiveIcon&&t.inactiveText?(o(),p("span",{key:1,"aria-hidden":l(g)},_(t.inactiveText),9,["aria-hidden"])):b("v-if",!0)],2)):b("v-if",!0),P("span",{ref_key:"core",ref:C,class:w(l(i).e("core")),style:te(l(ce))},[t.inlinePrompt?(o(),p("div",{key:0,class:w(l(i).e("inner"))},[t.activeIcon||t.inactiveIcon?(o(),v(l(E),{key:0,class:w(l(i).is("icon"))},{default:c(()=>[(o(),v(V(l(g)?t.activeIcon:t.inactiveIcon)))]),_:1},8,["class"])):t.activeText||t.inactiveText?(o(),p("span",{key:1,class:w(l(i).is("text")),"aria-hidden":!l(g)},_(l(g)?t.activeText:t.inactiveText),11,["aria-hidden"])):b("v-if",!0)],2)):b("v-if",!0),P("div",{class:w(l(i).e("action"))},[t.loading?(o(),v(l(E),{key:0,class:w(l(i).is("loading"))},{default:c(()=>[y(l(_e))]),_:1},8,["class"])):l(g)?T(t.$slots,"active-action",{key:1},()=>[t.activeActionIcon?(o(),v(l(E),{key:0},{default:c(()=>[(o(),v(V(t.activeActionIcon)))]),_:1})):b("v-if",!0)]):l(g)?b("v-if",!0):T(t.$slots,"inactive-action",{key:2},()=>[t.inactiveActionIcon?(o(),v(l(E),{key:0},{default:c(()=>[(o(),v(V(t.inactiveActionIcon)))]),_:1})):b("v-if",!0)])],2)],6),!t.inlinePrompt&&(t.activeIcon||t.activeText)?(o(),p("span",{key:1,class:w(l(re))},[t.activeIcon?(o(),v(l(E),{key:0},{default:c(()=>[(o(),v(V(t.activeIcon)))]),_:1})):b("v-if",!0),!t.activeIcon&&t.activeText?(o(),p("span",{key:1,"aria-hidden":!l(g)},_(t.activeText),9,["aria-hidden"])):b("v-if",!0)],2)):b("v-if",!0)],10,["onClick"]))}});var Ke=ae(Fe,[["__file","switch.vue"]]);const Ue=ne(Ke),Ge={props:{title:{type:String,required:!0}}},Re={class:"card-header"};function qe(s,a,n,e,h,u){const i=L,d=Me;return o(),v(d,{style:{"min-width":"340px","min-height":"130px"},shadow:"always"},{header:c(()=>[P("div",Re,[y(i,{class:"mx-1",size:"large"},{default:c(()=>[m(_(n.title),1)]),_:1})])]),default:c(()=>[T(s.$slots,"default")]),_:3})}const oe=B(Ge,[["render",qe]]),je={__name:"OpRouter",setup(s){const a=f(0),n=f("success"),e=f(0),h=f(""),u=d=>{const r=Math.floor(d/86400),S=Math.floor(d%(24*3600)/3600);return`${r}天${S}小时`};return D(async()=>{try{const d=await A.get("/oprouter");a.value=d.r_wendu,e.value=u(d.r_time)}catch(d){h.value=d}}),q(a,d=>{d>75?n.value="danger":n.value="success"}),(d,r)=>{const S=L,k=H;return o(),v(k,{wrap:""},{default:c(()=>[y(S,{class:"mx-1",type:"info"},{default:c(()=>[r[0]||(r[0]=m("设备温度：")),y(S,{class:"mx-1",type:n.value},{default:c(()=>[m(_(a.value),1)]),_:1},8,["type"])]),_:1}),y(S,{class:"mx-1",type:"info"},{default:c(()=>[r[1]||(r[1]=m(" 运行时间：")),y(S,{class:"mx-1",type:"success"},{default:c(()=>[m(_(e.value),1)]),_:1})]),_:1})]),_:1})}}},He={key:0,class:"error-msg"},Xe={__name:"OnlineDev",setup(s){const a=f(""),n=f(""),e=f("");return D(async()=>{try{const u=await A.get("/onlinedev");n.value=u.w2g,a.value=u.w5g}catch(u){e.value=u}}),(u,i)=>{const d=Pe,r=we,S=Se,k=H;return o(),v(k,{wrap:"",style:{"padding-right":"19px"}},{default:c(()=>[e.value?(o(),p("div",He,_(e.value),1)):b("",!0),(o(!0),p(N,null,j(a.value,C=>(o(),v(S,{key:C.ip,value:"5G",class:"item",color:"#67C23A"},{default:c(()=>[y(r,{class:"box-item",effect:"light",content:C.ip,placement:"top-start"},{default:c(()=>[y(d,null,{default:c(()=>[m(_(C.dname),1)]),_:2},1024)]),_:2},1032,["content"])]),_:2},1024))),128)),(o(!0),p(N,null,j(n.value,C=>(o(),v(S,{key:C.ip,value:"2G",class:"item",color:"rgb(148.6, 212.3, 117.1)"},{default:c(()=>[y(r,{class:"box-item",effect:"light",content:C.ip,placement:"top-start"},{default:c(()=>[y(d,null,{default:c(()=>[m(_(C.dname),1)]),_:2},1024)]),_:2},1032,["content"])]),_:2},1024))),128))]),_:1})}}},Je={name:"ChartTv",setup(){const s=f(null),a=async()=>(await A.get("/logtv")).data,n=e=>{const h=Ce.init(s.value),u=e.map(r=>r.time),i=e.map(r=>r.stat),d={tooltip:{},grid:{left:"10%",right:"10%"},xAxis:{type:"category",data:u},yAxis:{type:"value",interval:1,min:0,axisLabel:{formatter:function(r){return r===1?"开机":r===0?"关机":r}}},series:[{name:"开机状态",type:"line",data:i,step:"end",itemStyle:{color:"red"},areaStyle:{color:"green",opacity:.2},lineStyle:{width:1,color:"green"}}]};h.setOption(d)};return D(async()=>{const e=await a();n(e)}),{chartDom:s}}},Qe={ref:"chartDom",style:{width:"auto",height:"200px"}};function We(s,a,n,e,h,u){return o(),p("div",Qe,null,512)}const Ye=B(Je,[["render",We]]),Ze={setup(){const s=f(!1),a=f(0),n=f(0),e=I(()=>a.value-n.value);return(async()=>{try{const u=await A.get("/print");s.value=u.stat,a.value=u.p_all,n.value=u.p_color}catch(u){console.error("获取打印机数据失败:",u)}})(),{stats:s,printCount:a,blackCount:e,colorCount:n}}};function et(s,a,n,e,h,u){const i=L;return o(),p(N,null,[a[1]||(a[1]=m(" 累计打印：")),y(i,{class:"mx-1",type:"success"},{default:c(()=>[m(_(e.printCount),1)]),_:1}),a[2]||(a[2]=m(" 黑白：")),y(i,{class:"mx-1",type:"success"},{default:c(()=>[m(_(e.blackCount),1)]),_:1}),a[3]||(a[3]=m(" 彩色：")),y(i,{class:"mx-1",type:"success"},{default:c(()=>[m(_(e.colorCount),1)]),_:1}),a[4]||(a[4]=P("br",null,null,-1)),$e(y(i,{class:"mx-1",type:"warning"},{default:c(()=>a[0]||(a[0]=[m("当前打印机未连接,以上为历史信息")])),_:1},512),[[ke,!e.stats]])],64)}const tt=B(Ze,[["render",et]]),at={setup(){const s=f(0),a=f(0);return{temp:s,hum:a}}};function nt(s,a,n,e,h,u){return" 房间温度："+_(e.temp)+"­°C 湿度:"+_(e.hum)+"% "}const st=B(at,[["render",nt]]),ot={setup(){return{sw01State:f(!1)}}};function lt(s,a,n,e,h,u){const i=L,d=Ue;return o(),p(N,null,[y(i,null,{default:c(()=>a[1]||(a[1]=[m("台灯： ")])),_:1}),y(d,{modelValue:e.sw01State,"onUpdate:modelValue":a[0]||(a[0]=r=>e.sw01State=r),size:"large",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])],64)}const it=B(ot,[["render",lt]]),rt={components:{Card:oe,oprouter:je,onlinedev:Xe,charttv:Ye,myprint:tt,mysensor:st,myswitch:it},setup(){const s=f([]),a=f("");return D(async()=>{try{const e=await A.get("/cards");s.value=e.data}catch(e){a.value=e}}),{cards:s,Msg:a}}},ct={key:0};function ut(s,a,n,e,h,u){const i=oe,d=H;return o(),p(N,null,[y(d,{size:"large",wrap:"",style:{"align-items":"start"}},{default:c(()=>[(o(!0),p(N,null,j(e.cards,r=>(o(),v(i,{key:r.id,title:r.title},{default:c(()=>[(o(),v(V(r.name)))]),_:2},1032,["title"]))),128))]),_:1}),e.Msg?(o(),p("div",ct,_(e.Msg),1)):b("",!0)],64)}const mt=B(rt,[["render",ut]]);export{mt as default};
