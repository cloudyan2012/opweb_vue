import{_ as y,r as g,c as w,w as C,a as b,b as o,d as a,e as d,F as h,o as k,f as r,t as c,n as E}from"./index-BNcL0hPe.js";import{E as z,a as N,b as V}from"./el-input-D2fgpXON.js";import{E as D}from"./el-text-sbY-DTBi.js";import{E as L}from"./el-button-Dw_u4mnq.js";const S={setup(){const i=g(""),e=g(JSON.parse(localStorage.getItem("todoList"))||[]),u=t=>window.confirm("确定执行删除操作吗？"),l=()=>{const t=i.value.trim();if(!t)return alert("内容不能为空");e.value.unshift({content:t,done:!1}),i.value=""},p=t=>{t>=0&&t<e.value.length&&(e.value[t].done=!e.value[t].done)},_=t=>{u()&&t>=0&&t<e.value.length&&e.value.splice(t,1)},s=()=>{u()&&(e.value=e.value.filter(t=>!t.done))},f=w(()=>e.value.reduce((t,m)=>t+(m.done?1:0),0));return C(()=>{try{localStorage.setItem("todoList",JSON.stringify(e.value))}catch(t){console.error("保存数据出错:",t),alert("保存数据失败，请检查浏览器的存储设置。")}}),{todo:i,todoList:e,totalDone:f,handleAdd:l,handleChange:p,handleDelete:_,handleClear:s}}},T={style:{"white-space":"nowrap"}},B={style:{"margin-top":"10px","max-width":"1000px",display:"flex"}};function I(i,e,u,l,p,_){const s=L,f=z,t=D,m=V,x=N;return k(),b(h,null,[o(f,{modelValue:l.todo,"onUpdate:modelValue":e[0]||(e[0]=n=>l.todo=n),modelModifiers:{lazy:!0},style:{"min-width":"300px","max-width":"1000px"},placeholder:"输入待办事项"},{append:a(()=>[o(s,{onClick:l.handleAdd},{default:a(()=>e[1]||(e[1]=[r("添加")])),_:1},8,["onClick"])]),_:1},8,["modelValue"]),e[7]||(e[7]=d("br",null,null,-1)),o(t,{class:"mx-1",type:"warning"},{default:a(()=>e[2]||(e[2]=[r("*注意：本功能数据存储在您本地设备，不保证数据安全，请不要记录重要信息。")])),_:1}),o(x,{data:l.todoList,style:{"max-width":"1000px"},"table-layout":"auto"},{default:a(()=>[o(m,{label:"内 容"},{default:a(n=>[d("span",{style:{"margin-left":"10px"},class:E({strikethrough:n.row.done})},c(n.row.content),3)]),_:1}),o(m,{label:"操 作"},{default:a(n=>[d("span",T,[o(s,{size:"small",style:{"margin-left":"0px"},onClick:v=>l.handleChange(n.$index)},{default:a(()=>e[3]||(e[3]=[r("标记")])),_:2},1032,["onClick"]),o(s,{size:"small",type:"danger",onClick:v=>l.handleDelete(n.$index)},{default:a(()=>e[4]||(e[4]=[r("删除")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"]),d("div",B,[o(t,{class:"mx-1",size:"default"},{default:a(()=>[r("已完成："+c(l.totalDone)+" / 总数："+c(l.todoList.length),1)]),_:1}),e[6]||(e[6]=d("div",{style:{"flex-grow":"calc(0.54)"}},null,-1)),o(s,{size:"small",onClick:l.handleClear,type:"danger",style:{"margin-left":"10px"}},{default:a(()=>e[5]||(e[5]=[r("清除已完成")])),_:1},8,["onClick"])])],64)}const M=y(S,[["render",I],["__scopeId","data-v-b56e79af"]]);export{M as default};
