import{h as X,B as Y,_ as ee,k as F,u as te,m,o,q as w,p as N,s as C,t as r,r as x,aa as u,$ as g,z as ae,A as se,j as pe,aC as M,ag as K,ae as L,b2 as U,K as q,U as G,C as fe,ax as z,l as I,I as _,az as ve,Q as R,a7 as B,ai as me,n as h,w as i,Z as T,E as V,v as c,bo as ye,y as _e,a2 as he,c3 as J,aF as ge,P as be,bk as P,bl as A,a9 as j,a8 as E,c4 as we,a0 as Ce,ab as Se,ao as ke}from"./index-CH7aoHZO.js";import{E as H,e as $e}from"./echarts-DPAFEMjh.js";import{E as D}from"./el-text-Bl04x5vM.js";import{E as Ie}from"./el-button-ot11bJ-s.js";import{a as Ee,u as Ve,d as Te,c as Ne}from"./index-B1W2DvJ6.js";const xe=X({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Y([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Pe=F({name:"ElCard"}),De=F({...Pe,props:xe,setup(l){const e=te("card");return(s,t)=>(o(),m("div",{class:C([r(e).b(),r(e).is(`${s.shadow}-shadow`)])},[s.$slots.header||s.header?(o(),m("div",{key:0,class:C([r(e).e("header"),s.headerClass])},[x(s.$slots,"header",{},()=>[u(g(s.header),1)])],2)):w("v-if",!0),N("div",{class:C([r(e).e("body"),s.bodyClass]),style:ae(s.bodyStyle)},[x(s.$slots,"default")],6),s.$slots.footer||s.footer?(o(),m("div",{key:1,class:C([r(e).e("footer"),s.footerClass])},[x(s.$slots,"footer",{},()=>[u(g(s.footer),1)])],2)):w("v-if",!0)],2))}});var Be=ee(De,[["__file","card.vue"]]);const Ae=se(Be),Oe=l=>["",...pe].includes(l),ze=X({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Oe},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:z},activeActionIcon:{type:z},activeIcon:{type:z},inactiveIcon:{type:z},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Y(Function)},id:String,tabindex:{type:[String,Number]},...fe(["ariaLabel"])}),Me={[G]:l=>M(l)||K(l)||L(l),[q]:l=>M(l)||K(l)||L(l),[U]:l=>M(l)||K(l)||L(l)},ne="ElSwitch",Fe=F({name:ne}),Ke=F({...Fe,props:ze,emits:Me,setup(l,{expose:e,emit:s}){const t=l,{formItem:v}=Ee(),d=Ve(),n=te("switch"),{inputId:p}=Te(t,{formItemContext:v}),f=Ne(I(()=>t.loading)),y=_(t.modelValue!==!1),k=_(),$=_(),le=I(()=>[n.b(),n.m(d.value),n.is("disabled",f.value),n.is("checked",b.value)]),ie=I(()=>[n.e("label"),n.em("label","left"),n.is("active",!b.value)]),re=I(()=>[n.e("label"),n.em("label","right"),n.is("active",b.value)]),ce=I(()=>({width:ve(t.width)}));R(()=>t.modelValue,()=>{y.value=!0});const Q=I(()=>y.value?t.modelValue:!1),b=I(()=>Q.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(Q.value)||(s(G,t.inactiveValue),s(q,t.inactiveValue),s(U,t.inactiveValue)),R(b,a=>{var S;k.value.checked=a,t.validateEvent&&((S=v==null?void 0:v.validate)==null||S.call(v,"change").catch(de=>be()))});const O=()=>{const a=b.value?t.inactiveValue:t.activeValue;s(G,a),s(q,a),s(U,a),he(()=>{k.value.checked=b.value})},W=()=>{if(f.value)return;const{beforeChange:a}=t;if(!a){O();return}const S=a();[J(S),M(S)].includes(!0)||ge(ne,"beforeChange must return type `Promise<boolean>` or `boolean`"),J(S)?S.then(Z=>{Z&&O()}).catch(Z=>{}):S&&O()},ue=()=>{var a,S;(S=(a=k.value)==null?void 0:a.focus)==null||S.call(a)};return B(()=>{k.value.checked=b.value}),e({focus:ue,checked:b}),(a,S)=>(o(),m("div",{class:C(r(le)),onClick:_e(W,["prevent"])},[N("input",{id:r(p),ref_key:"input",ref:k,class:C(r(n).e("input")),type:"checkbox",role:"switch","aria-checked":r(b),"aria-disabled":r(f),"aria-label":a.ariaLabel,name:a.name,"true-value":a.activeValue,"false-value":a.inactiveValue,disabled:r(f),tabindex:a.tabindex,onChange:O,onKeydown:me(W,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!a.inlinePrompt&&(a.inactiveIcon||a.inactiveText)?(o(),m("span",{key:0,class:C(r(ie))},[a.inactiveIcon?(o(),h(r(V),{key:0},{default:i(()=>[(o(),h(T(a.inactiveIcon)))]),_:1})):w("v-if",!0),!a.inactiveIcon&&a.inactiveText?(o(),m("span",{key:1,"aria-hidden":r(b)},g(a.inactiveText),9,["aria-hidden"])):w("v-if",!0)],2)):w("v-if",!0),N("span",{ref_key:"core",ref:$,class:C(r(n).e("core")),style:ae(r(ce))},[a.inlinePrompt?(o(),m("div",{key:0,class:C(r(n).e("inner"))},[a.activeIcon||a.inactiveIcon?(o(),h(r(V),{key:0,class:C(r(n).is("icon"))},{default:i(()=>[(o(),h(T(r(b)?a.activeIcon:a.inactiveIcon)))]),_:1},8,["class"])):a.activeText||a.inactiveText?(o(),m("span",{key:1,class:C(r(n).is("text")),"aria-hidden":!r(b)},g(r(b)?a.activeText:a.inactiveText),11,["aria-hidden"])):w("v-if",!0)],2)):w("v-if",!0),N("div",{class:C(r(n).e("action"))},[a.loading?(o(),h(r(V),{key:0,class:C(r(n).is("loading"))},{default:i(()=>[c(r(ye))]),_:1},8,["class"])):r(b)?x(a.$slots,"active-action",{key:1},()=>[a.activeActionIcon?(o(),h(r(V),{key:0},{default:i(()=>[(o(),h(T(a.activeActionIcon)))]),_:1})):w("v-if",!0)]):r(b)?w("v-if",!0):x(a.$slots,"inactive-action",{key:2},()=>[a.inactiveActionIcon?(o(),h(r(V),{key:0},{default:i(()=>[(o(),h(T(a.inactiveActionIcon)))]),_:1})):w("v-if",!0)])],2)],6),!a.inlinePrompt&&(a.activeIcon||a.activeText)?(o(),m("span",{key:1,class:C(r(re))},[a.activeIcon?(o(),h(r(V),{key:0},{default:i(()=>[(o(),h(T(a.activeIcon)))]),_:1})):w("v-if",!0),!a.activeIcon&&a.activeText?(o(),m("span",{key:1,"aria-hidden":!r(b)},g(a.activeText),9,["aria-hidden"])):w("v-if",!0)],2)):w("v-if",!0)],10,["onClick"]))}});var Le=ee(Ke,[["__file","switch.vue"]]);const Ue=se(Le),qe={props:{title:{type:String,required:!0}}},Ge={class:"card-header"};function Re(l,e,s,t,v,d){const n=D,p=Ae;return o(),h(p,{style:{"min-width":"340px","min-height":"130px"},shadow:"always"},{header:i(()=>[N("div",Ge,[c(n,{class:"mx-1",size:"large"},{default:i(()=>[u(g(s.title),1)]),_:1})])]),default:i(()=>[x(l.$slots,"default")]),_:3})}const oe=P(qe,[["render",Re]]),je={__name:"OpRouter",setup(l){const e=_(0),s=_("success"),t=_(0),v=_(""),d=p=>{const f=Math.floor(p/86400),y=Math.floor(p%(24*3600)/3600);return`${f}天${y}小时`};return B(async()=>{try{const p=await A.get("/oprouter");e.value=p.r_wendu,t.value=d(p.r_time)}catch(p){v.value=p}}),R(e,p=>{p>75?s.value="danger":s.value="success"}),(p,f)=>{const y=D,k=H;return o(),h(k,{wrap:""},{default:i(()=>[c(y,{class:"mx-1",type:"info"},{default:i(()=>[f[0]||(f[0]=u("设备温度：")),c(y,{class:"mx-1",type:s.value},{default:i(()=>[u(g(e.value),1)]),_:1},8,["type"])]),_:1}),c(y,{class:"mx-1",type:"info"},{default:i(()=>[f[1]||(f[1]=u(" 运行时间：")),c(y,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.value),1)]),_:1})]),_:1})]),_:1})}}},He={key:0,class:"error-msg"},Qe={__name:"OnlineDev",setup(l){const e=_(""),s=_(""),t=_("");return B(async()=>{try{const d=await A.get("/onlinedev");s.value=d.w2g,e.value=d.w5g}catch(d){t.value=d}}),(d,n)=>{const p=Ie,f=Ce,y=we,k=H;return o(),h(k,{wrap:"",style:{"padding-right":"19px"}},{default:i(()=>[t.value?(o(),m("div",He,g(t.value),1)):w("",!0),(o(!0),m(E,null,j(e.value,$=>(o(),h(y,{key:$.ip,value:"5G",class:"item",color:"#67C23A"},{default:i(()=>[c(f,{class:"box-item",effect:"light",content:$.ip,placement:"top-start"},{default:i(()=>[c(p,null,{default:i(()=>[u(g($.dname),1)]),_:2},1024)]),_:2},1032,["content"])]),_:2},1024))),128)),(o(!0),m(E,null,j(s.value,$=>(o(),h(y,{key:$.ip,value:"2G",class:"item",color:"rgb(148.6, 212.3, 117.1)"},{default:i(()=>[c(f,{class:"box-item",effect:"light",content:$.ip,placement:"top-start"},{default:i(()=>[c(p,null,{default:i(()=>[u(g($.dname),1)]),_:2},1024)]),_:2},1032,["content"])]),_:2},1024))),128))]),_:1})}}},We={name:"ChartTv",setup(){const l=_(null),e=_(!0),s=async()=>(await A.get("/logtv")).data,t=v=>{const d=$e.init(l.value),n=v.map(y=>y.time),p=v.map(y=>y.stat),f={tooltip:{},grid:{left:"12%",right:"1%"},xAxis:{type:"category",data:n},yAxis:{type:"value",interval:1,max:1,min:0,axisLabel:{formatter:function(y){return y===1?"开机":y===0?"关机":y}}},series:[{name:"开机状态",type:"line",data:p,step:"end",itemStyle:{color:"red"},areaStyle:{color:"green",opacity:.2},lineStyle:{width:1,color:"green"}}]};d.setOption(f)};return B(async()=>{const v=await s();v?t(v):e.value=!1}),{chartDom:l,tvData:e}}},Ze={key:0,ref:"chartDom",style:{width:"auto",height:"80px"}},Je={key:1};function Xe(l,e,s,t,v,d){const n=D;return t.tvData?(o(),m("div",Ze,null,512)):(o(),m("div",Je,[c(n,{class:"mx-1",type:"danger"},{default:i(()=>e[0]||(e[0]=[u("暂无数据")])),_:1})]))}const Ye=P(We,[["render",Xe]]),et={setup(){const l=_(!1),e=_(0),s=_(0),t=I(()=>e.value-s.value);return(async()=>{try{const d=await A.get("/print");l.value=d.online,e.value=d.p_all,s.value=d.p_color}catch(d){console.error("获取打印机数据失败:",d)}})(),{stats:l,printCount:e,blackCount:t,colorCount:s}}};function tt(l,e,s,t,v,d){const n=D;return o(),m(E,null,[c(n,{class:"mx-1",type:"info"},{default:i(()=>e[0]||(e[0]=[u("累计打印：")])),_:1}),c(n,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.printCount),1)]),_:1}),c(n,{class:"mx-1",type:"info"},{default:i(()=>e[1]||(e[1]=[u("黑白：")])),_:1}),c(n,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.blackCount),1)]),_:1}),c(n,{class:"mx-1",type:"info"},{default:i(()=>e[2]||(e[2]=[u("彩色：")])),_:1}),c(n,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.colorCount),1)]),_:1}),e[4]||(e[4]=N("br",null,null,-1)),Se(c(n,{class:"mx-1",type:"warning"},{default:i(()=>e[3]||(e[3]=[u("当前打印机未连接,以上为历史信息")])),_:1},512),[[ke,!t.stats]])],64)}const at=P(et,[["render",tt]]),st={setup(){const l=_(NaN),e=_(NaN);return{temp:l,hum:e}}};function nt(l,e,s,t,v,d){const n=D;return o(),m(E,null,[c(n,{class:"mx-1",type:"info"},{default:i(()=>[e[0]||(e[0]=u("房间温度：")),c(n,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.temp),1)]),_:1}),e[1]||(e[1]=u("­°C "))]),_:1}),c(n,{class:"mx-1",type:"info"},{default:i(()=>[e[2]||(e[2]=u("湿度: ")),c(n,{class:"mx-1",type:"success"},{default:i(()=>[u(g(t.hum),1)]),_:1}),e[3]||(e[3]=u("%"))]),_:1})],64)}const ot=P(st,[["render",nt]]),lt={setup(){return{sw01State:_(!1)}}};function it(l,e,s,t,v,d){const n=D,p=Ue;return o(),m(E,null,[c(n,null,{default:i(()=>e[1]||(e[1]=[u("台灯： ")])),_:1}),c(p,{modelValue:t.sw01State,"onUpdate:modelValue":e[0]||(e[0]=f=>t.sw01State=f),size:"large",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])],64)}const rt=P(lt,[["render",it]]),ct={components:{Card:oe,oprouter:je,onlinedev:Qe,charttv:Ye,myprint:at,mysensor:ot,myswitch:rt},setup(){const l=_([]),e=_("");return B(async()=>{try{const t=await A.get("/cards");l.value=t.data}catch(t){e.value=t}}),{cards:l,Msg:e}}},ut={key:0};function dt(l,e,s,t,v,d){const n=oe,p=H;return o(),m(E,null,[c(p,{size:"large",wrap:"",style:{"align-items":"start"}},{default:i(()=>[(o(!0),m(E,null,j(t.cards,f=>(o(),h(n,{key:f.id,title:f.title},{default:i(()=>[(o(),h(T(f.name)))]),_:2},1032,["title"]))),128))]),_:1}),t.Msg?(o(),m("div",ut,g(t.Msg),1)):w("",!0)],64)}const _t=P(ct,[["render",dt]]);export{_t as default};
